<span>Welcome, <%= current_user.username %>! </span> | <%= link_to "Logout", logout_path, method: :delete %>

<h2>Submit a Link</h2>

<%= form_for(@link) do |f| %>
  <%= f.label :title %>
  <%= f.text_field :title %> <br>

  <%= f.label :url %>
  <%= f.text_field :url %><br>

  <%= f.submit "Submit Link" %>
<% end %>

<h1>Links</h1>

<section id="search-area">
  <h3>Search Links:</h3>
  <input type="text" id="search-input" placeholder="Search Links" />
</section>

<section id="filter">
  <%= select_tag(:status_filter, options_for_select([ ["Filter By Status", 0], ["Read", 1], ["Unread", 2] ], selected: 0), class: "status-filter") %>
  <%= select_tag(:alphabetical_filter, options_for_select([ ["Sort Alphabetically ...", 0], ["A-Z", 1], ["Z-A", 2] ], selected: 0), class: "alphabetical-filter") %>
</section>

<section id="links">
  <% @links.each do |link| %>

    <div class="link <%= link.status %>" data-link-id=<%= link.id.to_s %> >
      <span class="title"><%= link.title %></span>, <%= link_to link.url, link.url %><br><br>
      <span class="status"><%= link.status %></span>
      | <button class="change-status"><%= button_text(link.id) %></button>
      | <%= link_to "Edit", edit_link_path(id: link), class: "edit" %><br><br>
      <%= form_for(:tag, url: tags_path(link_id: link)) do |f| %>
        <%= f.text_field :title, placeholder: "Enter Tag Name" %>
        <%= f.submit "Add Tag" %>
      <% end %><br>
      <span class="tags">
        Tags:
        <% link.tags.each do |tag| %>
          <%= tag.title %><%= link_to "X", untag_path(id: link, tag_id: tag) %>
        <% end %>
      </span>
    </div>

  <% end %>
</section>